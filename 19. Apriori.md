# Apriori

Its is method of **"Association Rule Learning (ARL)"**

Its like saying that <br>
 ***People who "bought"/did something, also bought/did something else***
 
 We want to make business decision based on this similarities. <br>
 
 1. The support
 2. The confidence 
 3. The lift

### The Support
for example, 
* Movie Recommendation: <br>
support( **M** ) = # user watchlist containing "**M**" / # user watchlists


* Market Basket Optimization <br>
support( **I** ) = # transactions containing "**I**" / # transactions

### The confidence
for example, 
* Movie Recommendation: <br>
confidence( **M<sub>1</sub> → M<sub>2</sub>** ) = # user watchlist containing "**M<sub>1</sub> and M<sub>2</sub>**" / # user watchlists containing **M<sub>1</sub>**

So, its like a hypothesis saying, people who liked movie M<sub>1</sub>, also like M<sub>2</sub>

* Market Basket Optimization <br>
confidence( **I<sub>1</sub> → I<sub>2</sub>** ) = # transactions containing "**I<sub>1</sub> and I<sub>2</sub>**" / # transactions containing **I<sub>1</sub>**


### The Lift
Its similar to the bayes' theorem, <br>
for example, <br>
* Movie Recommendation: <br>
lift( **M<sub>1</sub> → M<sub>2</sub>** ) = confidence( **M<sub>1</sub> → M<sub>2</sub>** ) / support( **M<sub>2</sub>** )



* Market Basket Optimization <br>
lift( **I<sub>1</sub> → I<sub>2</sub>** ) = confidence( **I<sub>1</sub> → I<sub>2</sub>** ) / support( **I<sub>2</sub>** )

### Example:
* Let, there be a data 100 people (blue+green) for movie recommendation. <br>
* 40 people watched "Intersteller" (green)
* also altogether only 10 people watched "Ex-Machina" (red marked)
* so 10/100 = 10 % people watched "Ex-Machina" (support( **"Ex-Machina"** ))

Now, we want to know if its possible to verify the above statistics by using some **"Prior Knowledge"**. That is why this algorithm is called Apriori <br>

In this case, let us recommend "Ex-Machina" to those who watched "Intersteller" <br>
Therefore, confidence(**"Intersteller" → "Ex-Machina"**) = 7 / 40 = 17.5 %

<img src = https://user-images.githubusercontent.com/54764108/167667326-8bf3e117-1b84-4037-a283-fa38092da1ca.png width = "500">

Therefore, lift(**"Intersteller" → "Ex-Machina"**) = confidence(**"Intersteller" → "Ex-Machina"**) / support( **"Ex-Machina"** ) = 17.5 % / 10 % = 1.75 

Definition: <br>
***If you ask them if they liked "Intersteller" and they said yes, then after recommending "Ex-Machina" what is the likelihood that they will like it***


## Algorithm

* **Step 1 :** Set a Minimum support and confidence
* **Step 2 :** Take all the subsets in transactions having higher support than minimum support
* **Step 3 :** Take all the rules of these subsets having higher confidence than minimum confidence
* **Step 4 :** Sort the rules by decresing lift





